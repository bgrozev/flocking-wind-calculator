package net.mustelinae.drift

import kotlinx.serialization.Serializable
import kotlinx.serialization.decodeFromString
import kotlinx.serialization.json.Json


@Serializable
class WindsAloft(
    val groundElev: Double,
    val groundDir: String,
    val altFt: List<Int>,
    val direction: Map<String, Int>,
    val speed: Map<String, Int>
)

val json = Json {
    ignoreUnknownKeys = true
}
fun getWindsAloft(): WindsAloft {
    return json.decodeFromString(sampleWindsJson)
}

val sampleWindsJson = """
    {
      "validtime": "15",
      "groundElev": 587,
      "groundTemp": 4.1,
      "groundDir": "216",
      "groundSpd": "8",
      "QFE": 997.7,
      "QNH": 1019.11388609,
      "altFtRaw": [
        0,
        89,
        246,
        502,
        882,
        1384,
        1991,
        2047,
        2686,
        3464,
        4353,
        4353,
        5366,
        6514,
        7816,
        9286,
        9568,
        10952,
        12828,
        14888,
        17027,
        18161,
        19119,
        21123,
        23042,
        23603,
        24885,
        26647,
        28329,
        29930,
        30225,
        31462,
        32928,
        34237,
        34342,
        35700,
        37028,
        38402,
        39885,
        41479,
        43194,
        45008,
        45038,
        47032,
        49210,
        51624,
        53107,
        54304,
        57121,
        59860,
        60034,
        62494,
        65207,
        66850,
        68126,
        71304,
        74794,
        78694,
        83174,
        88544,
        95471
      ],
      "directionRaw": {
        "0": "216",
        "89": "217",
        "246": "218",
        "502": "224",
        "882": "243",
        "1384": "263",
        "1991": "275",
        "2047": "275",
        "2686": "279",
        "3464": "276",
        "4353": "271",
        "5366": "264",
        "6514": "254",
        "7816": "249",
        "9286": "249",
        "9568": "249",
        "10952": "248",
        "12828": "251",
        "14888": "257",
        "17027": "258",
        "18161": "257",
        "19119": "256",
        "21123": "253",
        "23042": "251",
        "23603": "251",
        "24885": "251",
        "26647": "252",
        "28329": "254",
        "29930": "257",
        "30225": "257",
        "31462": "259",
        "32928": "260",
        "34237": "261",
        "34342": "261",
        "35700": "262",
        "37028": "260",
        "38402": "260",
        "39885": "263",
        "41479": "264",
        "43194": "262",
        "45008": "258",
        "45038": "258",
        "47032": "258",
        "49210": "259",
        "51624": "262",
        "53107": "265",
        "54304": "268",
        "57121": "271",
        "59860": "268",
        "60034": "268",
        "62494": "264",
        "65207": "266",
        "66850": "269",
        "68126": "271",
        "71304": "270",
        "74794": "279",
        "78694": "283",
        "83174": "272",
        "88544": "264",
        "95471": "261"
      },
      "speedRaw": {
        "0": "8",
        "89": "10",
        "246": "12",
        "502": "16",
        "882": "21",
        "1384": "27",
        "1991": "33",
        "2047": "34",
        "2686": "40",
        "3464": "47",
        "4353": "53",
        "5366": "52",
        "6514": "52",
        "7816": "61",
        "9286": "73",
        "9568": "74",
        "10952": "80",
        "12828": "83",
        "14888": "86",
        "17027": "88",
        "18161": "89",
        "19119": "89",
        "21123": "89",
        "23042": "89",
        "23603": "89",
        "24885": "90",
        "26647": "94",
        "28329": "98",
        "29930": "104",
        "30225": "105",
        "31462": "111",
        "32928": "117",
        "34237": "120",
        "34342": "120",
        "35700": "122",
        "37028": "122",
        "38402": "126",
        "39885": "128",
        "41479": "122",
        "43194": "112",
        "45008": "106",
        "45038": "106",
        "47032": "105",
        "49210": "101",
        "51624": "93",
        "53107": "86",
        "54304": "80",
        "57121": "58",
        "59860": "40",
        "60034": "39",
        "62494": "31",
        "65207": "27",
        "66850": "28",
        "68126": "28",
        "71304": "29",
        "74794": "30",
        "78694": "33",
        "83174": "36",
        "88544": "40",
        "95471": "53"
      },
      "tempRaw": {
        "0": 4.1,
        "89": 3.7,
        "246": 3.2,
        "502": 3.3,
        "882": 6.1,
        "1384": 8.7,
        "1991": 9.7,
        "2047": 9.7,
        "2686": 9.3,
        "3464": 8.8,
        "4353": 8.1,
        "5366": 6.6,
        "6514": 5.2,
        "7816": 4.2,
        "9286": 2.4,
        "9568": 2,
        "10952": 0.3,
        "12828": -2.5,
        "14888": -6.5,
        "17027": -11.2,
        "18161": -13.5,
        "19119": -15.5,
        "21123": -19.9,
        "23042": -24.2,
        "23603": -25.5,
        "24885": -28.5,
        "26647": -32.7,
        "28329": -36.7,
        "29930": -39.9,
        "30225": -40.4,
        "31462": -42.3,
        "32928": -44.9,
        "34237": -48.1,
        "34342": -48.3,
        "35700": -51.8,
        "37028": -54.9,
        "38402": -54.7,
        "39885": -53.2,
        "41479": -53.7,
        "43194": -56.1,
        "45008": -59.4,
        "45038": -59.4,
        "47032": -62.8,
        "49210": -65.7,
        "51624": -67.8,
        "53107": -68.2,
        "54304": -68.5,
        "57121": -67.3,
        "59860": -65.6,
        "60034": -65.5,
        "62494": -64.4,
        "65207": -65.2,
        "66850": -64.4,
        "68126": -63.8,
        "71304": -62.1,
        "74794": -63.1,
        "78694": -64.3,
        "83174": -63.5,
        "88544": -61.5,
        "95471": -59.3
      },
      "altFt": [
        0,
        1000,
        2000,
        3000,
        4000,
        5000,
        6000,
        7000,
        8000,
        9000,
        10000,
        11000,
        12000,
        13000,
        14000,
        15000,
        16000,
        17000,
        18000,
        19000,
        20000,
        21000,
        22000,
        23000,
        24000,
        25000,
        26000,
        27000,
        28000,
        29000,
        30000,
        31000,
        32000,
        33000,
        34000,
        35000,
        36000,
        37000,
        38000,
        39000,
        40000
      ],
      "direction": {
        "0": 216,
        "1000": 248,
        "2000": 275,
        "3000": 278,
        "4000": 273,
        "5000": 267,
        "6000": 258,
        "7000": 252,
        "8000": 249,
        "9000": 249,
        "10000": 249,
        "11000": 248,
        "12000": 250,
        "13000": 252,
        "14000": 254,
        "15000": 257,
        "16000": 258,
        "17000": 258,
        "18000": 257,
        "19000": 256,
        "20000": 255,
        "21000": 253,
        "22000": 252,
        "23000": 251,
        "24000": 251,
        "25000": 251,
        "26000": 252,
        "27000": 252,
        "28000": 254,
        "29000": 255,
        "30000": 257,
        "31000": 258,
        "32000": 259,
        "33000": 260,
        "34000": 261,
        "35000": 261,
        "36000": 262,
        "37000": 260,
        "38000": 260,
        "39000": 261,
        "40000": 263
      },
      "speed": {
        "0": 8,
        "1000": 22,
        "2000": 33,
        "3000": 43,
        "4000": 51,
        "5000": 52,
        "6000": 52,
        "7000": 55,
        "8000": 63,
        "9000": 71,
        "10000": 76,
        "11000": 80,
        "12000": 82,
        "13000": 83,
        "14000": 85,
        "15000": 86,
        "16000": 87,
        "17000": 88,
        "18000": 89,
        "19000": 89,
        "20000": 89,
        "21000": 89,
        "22000": 89,
        "23000": 89,
        "24000": 89,
        "25000": 90,
        "26000": 93,
        "27000": 95,
        "28000": 97,
        "29000": 101,
        "30000": 104,
        "31000": 109,
        "32000": 113,
        "33000": 117,
        "34000": 119,
        "35000": 121,
        "36000": 122,
        "37000": 122,
        "38000": 125,
        "39000": 127,
        "40000": 128
      },
      "temp": {
        "0": 4,
        "1000": 7,
        "2000": 10,
        "3000": 9,
        "4000": 8,
        "5000": 7,
        "6000": 6,
        "7000": 5,
        "8000": 4,
        "9000": 3,
        "10000": 1,
        "11000": 0,
        "12000": -1,
        "13000": -3,
        "14000": -5,
        "15000": -7,
        "16000": -9,
        "17000": -11,
        "18000": -13,
        "19000": -15,
        "20000": -17,
        "21000": -20,
        "22000": -22,
        "23000": -24,
        "24000": -26,
        "25000": -29,
        "26000": -31,
        "27000": -34,
        "28000": -36,
        "29000": -38,
        "30000": -40,
        "31000": -42,
        "32000": -43,
        "33000": -45,
        "34000": -48,
        "35000": -50,
        "36000": -53,
        "37000": -55,
        "38000": -55,
        "39000": -54,
        "40000": -53
      },
      "altSI": [
        0,
        300,
        600,
        900,
        1200,
        1500,
        1800,
        2100,
        2400,
        2700,
        3000,
        3300,
        3600,
        3900,
        4200,
        4500,
        4800,
        5100,
        5400,
        5700,
        6000,
        6300,
        6600,
        6900,
        7200,
        7500,
        7800,
        8100,
        8400,
        8700,
        9000,
        9300,
        9600,
        9900,
        10200,
        10500,
        10800,
        11100,
        11400,
        11700,
        12000
      ],
      "directionSI": {
        "0": 216,
        "300": 247,
        "600": 275,
        "900": 278,
        "1200": 273,
        "1500": 267,
        "1800": 259,
        "2100": 253,
        "2400": 249,
        "2700": 249,
        "3000": 249,
        "3300": 248,
        "3600": 249,
        "3900": 251,
        "4200": 254,
        "4500": 257,
        "4800": 257,
        "5100": 258,
        "5400": 257,
        "5700": 256,
        "6000": 255,
        "6300": 254,
        "6600": 252,
        "6900": 251,
        "7200": 251,
        "7500": 251,
        "7800": 251,
        "8100": 252,
        "8400": 253,
        "8700": 254,
        "9000": 256,
        "9300": 257,
        "9600": 259,
        "9900": 260,
        "10200": 260,
        "10500": 261,
        "10800": 262,
        "11100": 261,
        "11400": 260,
        "11700": 260,
        "12000": 262
      },
      "speedSI": {
        "0": 15,
        "300": 41,
        "600": 61,
        "900": 79,
        "1200": 93,
        "1500": 97,
        "1800": 96,
        "2100": 101,
        "2400": 114,
        "2700": 129,
        "3000": 139,
        "3300": 147,
        "3600": 151,
        "3900": 154,
        "4200": 156,
        "4500": 159,
        "4800": 161,
        "5100": 162,
        "5400": 164,
        "5700": 165,
        "6000": 165,
        "6300": 165,
        "6600": 165,
        "6900": 165,
        "7200": 165,
        "7500": 166,
        "7800": 170,
        "8100": 174,
        "8400": 178,
        "8700": 183,
        "9000": 190,
        "9300": 197,
        "9600": 206,
        "9900": 213,
        "10200": 219,
        "10500": 223,
        "10800": 225,
        "11100": 226,
        "11400": 228,
        "11700": 233,
        "12000": 236
      },
      "tempSI": {
        "0": 4,
        "300": 7,
        "600": 10,
        "900": 9,
        "1200": 8,
        "1500": 7,
        "1800": 6,
        "2100": 5,
        "2400": 4,
        "2700": 3,
        "3000": 2,
        "3300": 0,
        "3600": -1,
        "3900": -2,
        "4200": -4,
        "4500": -6,
        "4800": -8,
        "5100": -11,
        "5400": -13,
        "5700": -15,
        "6000": -17,
        "6300": -19,
        "6600": -21,
        "6900": -23,
        "7200": -26,
        "7500": -28,
        "7800": -30,
        "8100": -33,
        "8400": -35,
        "8700": -37,
        "9000": -39,
        "9300": -41,
        "9600": -42,
        "9900": -44,
        "10200": -46,
        "10500": -49,
        "10800": -51,
        "11100": -53,
        "11400": -55,
        "11700": -55,
        "12000": -54
      },
      "model": "RAP"
    }
""".trimIndent()

